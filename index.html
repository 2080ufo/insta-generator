<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Content Planner - Планировщик контента</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- SVG для связей тем с платформами -->
    <svg class="topic-platform-links-svg" id="topicPlatformLinksSvg"></svg>

    <!-- ШАПКА С ПРОЕКТОМ -->
    <div class="top-header">
        <button class="project-btn" onclick="toggleProjectDropdown()">
            <span class="icon">📁</span>
            <span class="name" id="currentProjectName">Новый проект</span>
            <span class="arrow">▼</span>
        </button>
        
        <button class="project-add-btn" onclick="createNewProject()">＋</button>
        
        <div class="project-dropdown" id="projectDropdown">
            <div id="projectsList"></div>
        </div>
        
        <div class="weeks-nav">
            <button class="week-current-btn" onclick="toggleWeekDropdown()">
                <span>📅</span>
                <span id="currentWeekName">Первая неделя</span>
                <span class="arrow">▼</span>
            </button>
            
            <div class="week-dropdown" id="weekDropdown">
                <div id="weeksList"></div>
                <div class="week-divider"></div>
                <div class="week-add" onclick="addWeek()">
                    <span>➕</span>
                    <span>Добавить неделю</span>
                </div>
            </div>
        </div>
        
        <!-- Кнопки синхронизации -->
        <div class="sync-buttons">
            <button class="sync-btn" onclick="exportData()" title="Экспорт данных">📤</button>
            <button class="sync-btn" onclick="document.getElementById('importInput').click()" title="Импорт данных">📥</button>
            <input type="file" id="importInput" style="display:none" accept=".json" onchange="importData(this)">
        </div>
    </div>

    <!-- ЛЕВАЯ ПАНЕЛЬ: ТЕМЫ -->
    <div class="left-panel">
        <div class="panel-header">
            <div class="panel-title">🎯 Темы для постов</div>
            
            <div class="context-box">
                <div class="context-label">📋 Контекст для генерации</div>
                <textarea class="context-input" id="contextInput" placeholder="Опишите ваш бизнес, направление, целевую аудиторию..."></textarea>
                
                <div class="attachments-area">
                    <div class="attach-buttons">
                        <button class="attach-btn" onclick="document.getElementById('fileInput').click()">📎 Файл</button>
                        <button class="attach-btn" onclick="document.getElementById('imageInput').click()">🖼 Картинка</button>
                        <button class="attach-btn" onclick="document.getElementById('audioInput').click()">🎵 Аудио</button>
                        <button class="attach-btn" onclick="toggleLinkInput()">🔗 Ссылка</button>
                    </div>
                    
                    <input type="file" id="fileInput" style="display:none" onchange="addFile(this)" accept=".pdf,.doc,.docx,.txt">
                    <input type="file" id="imageInput" style="display:none" onchange="addImage(this)" accept="image/*">
                    <input type="file" id="audioInput" style="display:none" onchange="addAudio(this)" accept="audio/*">
                    
                    <div class="link-input-wrapper" id="linkInputWrapper">
                        <input type="text" class="link-input" id="linkInput" placeholder="Вставьте ссылку...">
                        <button class="link-add-btn" onclick="addLink()">+</button>
                    </div>
                    
                    <div class="attachments-list" id="attachmentsList"></div>
                </div>
            </div>
            
            <div class="main-lang-box">
                <div class="context-label">🌐 Основной язык</div>
                <select class="main-lang-select" id="mainLangSelect" onchange="switchMainLang()">
                    <option value="ru">🇷🇺 Русский</option>
                    <option value="en">🇺🇸 English</option>
                    <option value="de">🇩🇪 Deutsch</option>
                    <option value="es">🇪🇸 Español</option>
                    <option value="fr">🇫🇷 Français</option>
                    <option value="uk">🇺🇦 Українська</option>
                    <option value="pl">🇵🇱 Polski</option>
                    <option value="it">🇮🇹 Italiano</option>
                    <option value="pt">🇵🇹 Português</option>
                    <option value="zh">🇨🇳 中文</option>
                    <option value="ja">🇯🇵 日本語</option>
                </select>
            </div>
            
            <div class="main-lang-box">
                <div class="context-label">🤖 AI модель</div>
                <select class="main-lang-select" id="aiModelSelect" onchange="saveState()">
                    <option value="claude-sonnet">Claude Sonnet 4</option>
                    <option value="claude-opus">Claude Opus 4</option>
                    <option value="gpt-4o">GPT-4o</option>
                    <option value="gpt-4-turbo">GPT-4 Turbo</option>
                    <option value="gpt-3.5">GPT-3.5 Turbo</option>
                    <option value="gemini-pro">Gemini Pro</option>
                    <option value="gemini-ultra">Gemini Ultra</option>
                    <option value="llama-3">Llama 3</option>
                    <option value="mistral">Mistral Large</option>
                </select>
            </div>
            
            <button class="generate-btn" onclick="generateTopics()">✨ Сгенерировать темы</button>
        </div>
        
        <div class="topics-list" id="topicsList">
            <div class="empty-state">
                <span>💡</span>
                Нажмите кнопку выше,<br>чтобы сгенерировать темы
            </div>
        </div>
    </div>

    <!-- КНОПКА ДОБАВИТЬ ПЛАТФОРМУ -->
    <button class="add-platform-btn" onclick="togglePlatformPicker()">＋</button>
    
    <div class="platform-picker" id="platformPicker">
        <div class="platform-picker-title">Добавить платформу</div>
        <div class="platform-picker-grid">
            <div class="platform-picker-item" onclick="addPlatformCard('instagram')">
                <div class="icon" style="background: linear-gradient(45deg, #f09433, #dc2743, #bc1888);">📷</div>
                <div class="name">Instagram</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('pinterest')">
                <div class="icon" style="background: #E60023;">📌</div>
                <div class="name">Pinterest</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('tiktok')">
                <div class="icon" style="background: #000; border: 1px solid #333;">🎵</div>
                <div class="name">TikTok</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('youtube')">
                <div class="icon" style="background: #FF0000;">▶️</div>
                <div class="name">YouTube</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('facebook')">
                <div class="icon" style="background: #1877F2;">📘</div>
                <div class="name">Facebook</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('twitter')">
                <div class="icon" style="background: #000;">𝕏</div>
                <div class="name">X / Twitter</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('linkedin')">
                <div class="icon" style="background: #0A66C2;">💼</div>
                <div class="name">LinkedIn</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('telegram')">
                <div class="icon" style="background: #26A5E4;">✈️</div>
                <div class="name">Telegram</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('whatsapp')">
                <div class="icon" style="background: #25D366;">💬</div>
                <div class="name">WhatsApp</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('snapchat')">
                <div class="icon" style="background: #FFFC00;">👻</div>
                <div class="name">Snapchat</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('threads')">
                <div class="icon" style="background: #000;">🧵</div>
                <div class="name">Threads</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('reddit')">
                <div class="icon" style="background: #FF4500;">🤖</div>
                <div class="name">Reddit</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('vk')">
                <div class="icon" style="background: #0077FF;">ВК</div>
                <div class="name">ВКонтакте</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('ok')">
                <div class="icon" style="background: #EE8208;">🟠</div>
                <div class="name">OK.ru</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('website')">
                <div class="icon" style="background: linear-gradient(135deg, #667eea, #764ba2);">🌐</div>
                <div class="name">Сайт</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('blog')">
                <div class="icon" style="background: #FF5722;">📝</div>
                <div class="name">Блог</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('email')">
                <div class="icon" style="background: #4CAF50;">📧</div>
                <div class="name">Email</div>
            </div>
            <div class="platform-picker-item" onclick="addPlatformCard('podcast')">
                <div class="icon" style="background: #8E44AD;">🎙️</div>
                <div class="name">Подкаст</div>
            </div>
        </div>
    </div>

    <!-- ПРАВАЯ ПАНЕЛЬ: ПЛАТФОРМЫ -->
    <div class="right-panel" id="rightPanel">
        <svg class="connections-svg" id="connectionsSvg"></svg>
        <!-- Карточки добавляются динамически -->
    </div>

    <script src="js/app.js"></script>
</body>
</html>
